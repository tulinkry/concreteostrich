CREATE TABLE events (event_id INT AUTO_INCREMENT NOT NULL, photo_id INT DEFAULT NULL, content LONGBLOB NOT NULL, name VARCHAR(255) NOT NULL, start DATETIME NOT NULL COMMENT '(DC2Type:datetime)', end DATETIME NOT NULL COMMENT '(DC2Type:datetime)', location VARCHAR(255) NOT NULL, latitude DOUBLE PRECISION NOT NULL, longitude DOUBLE PRECISION NOT NULL, hidden TINYINT(1) NOT NULL, fb VARCHAR(255) DEFAULT NULL, UNIQUE INDEX UNIQ_5387574AD1C2DEAA (fb), INDEX IDX_5387574A7E9E4C8C (photo_id), PRIMARY KEY(event_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE galleries (gallery_id INT AUTO_INCREMENT NOT NULL, content LONGBLOB NOT NULL, name VARCHAR(255) NOT NULL, datum DATETIME NOT NULL COMMENT '(DC2Type:datetime)', hidden TINYINT(1) NOT NULL, PRIMARY KEY(gallery_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE musicians (musician_id INT AUTO_INCREMENT NOT NULL, photo_id INT DEFAULT NULL, content LONGBLOB NOT NULL, name VARCHAR(255) NOT NULL, surname VARCHAR(255) NOT NULL, INDEX IDX_BE350B217E9E4C8C (photo_id), PRIMARY KEY(musician_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE parameters (parameters_id INT AUTO_INCREMENT NOT NULL, events_last_update DATETIME NOT NULL COMMENT '(DC2Type:datetime)', posts_last_update DATETIME NOT NULL COMMENT '(DC2Type:datetime)', PRIMARY KEY(parameters_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE photos (photo_id INT AUTO_INCREMENT NOT NULL, image_id INT DEFAULT NULL, gallery_id INT DEFAULT NULL, content VARCHAR(255) NOT NULL, path VARCHAR(255) NOT NULL, url VARCHAR(255) NOT NULL, rank NUMERIC(10, 0) NOT NULL, datum DATETIME NOT NULL COMMENT '(DC2Type:datetime)', updated DATETIME NOT NULL COMMENT '(DC2Type:datetime)', hidden TINYINT(1) NOT NULL, fb VARCHAR(255) NOT NULL, INDEX IDX_876E0D93DA5256D (image_id), INDEX IDX_876E0D94E7AF8F (gallery_id), PRIMARY KEY(photo_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE posts (post_id INT AUTO_INCREMENT NOT NULL, photo_id INT DEFAULT NULL, name VARCHAR(255) DEFAULT NULL, type VARCHAR(255) NOT NULL, link VARCHAR(255) DEFAULT NULL, message LONGBLOB DEFAULT NULL, datum DATETIME NOT NULL COMMENT '(DC2Type:datetime)', hidden TINYINT(1) NOT NULL, fb VARCHAR(255) DEFAULT NULL, UNIQUE INDEX UNIQ_885DBAFAD1C2DEAA (fb), INDEX IDX_885DBAFA7E9E4C8C (photo_id), PRIMARY KEY(post_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE events ADD CONSTRAINT FK_5387574A7E9E4C8C FOREIGN KEY (photo_id) REFERENCES photos (photo_id);
ALTER TABLE musicians ADD CONSTRAINT FK_BE350B217E9E4C8C FOREIGN KEY (photo_id) REFERENCES photos (photo_id);
ALTER TABLE photos ADD CONSTRAINT FK_876E0D93DA5256D FOREIGN KEY (image_id) REFERENCES photos (photo_id);
ALTER TABLE photos ADD CONSTRAINT FK_876E0D94E7AF8F FOREIGN KEY (gallery_id) REFERENCES galleries (gallery_id);
ALTER TABLE posts ADD CONSTRAINT FK_885DBAFA7E9E4C8C FOREIGN KEY (photo_id) REFERENCES photos (photo_id);
